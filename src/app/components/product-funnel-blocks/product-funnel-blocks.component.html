<section class="py-4 container mx-auto flex flex-col justify-start items-start gap-10">
  
  <!-- Variation 1: Original Design -->
  <div class="max-w-6xl w-full">
    <div class="w-1/2">
      <h2 class="classic-middle-title">النموذج الأول - التصميم الأساسي</h2>
      <div id="classic-bundle-options">
        <h3 class="classic-bundle-options-title text-2xl py-3">
          {{ getTranslation("quantityOptions.chooseQuantity") }}
        </h3>

        <div class="space-y-3">
          <div *ngFor="let item of purchaseOptions; let i = index">
            <div class="classic-bundle-options-group border border-primary rounded-2xl p-1.5 sm:p-2">
              <label
                class="classic-bundle-options-label group relative overflow-hidden cursor-pointer block rounded-lg"
                [for]="'bundle-option-1-' + (i + 1)"
                (click)="onBundleSelect(1, i)"
              >
                <input
                  type="radio"
                  [id]="'bundle-option-1-' + (i + 1)"
                  name="bundleOptions1"
                  class="hidden"
                  [checked]="i === selectedBundleIndex[1]"
                />
                <div class="classic-bundle-options-content p-1.5 sm:p-2">
                  <div class="classic-bundle-options-header grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3">
                    <!-- Title and Details -->
                    <div class="sm:col-span-2 space-y-1">
                      <h3 class="classic-bundle-options-option-title font-bold text-xl leading-tight">
                        {{ item.title }}
                      </h3>
                      <div class="classic-bundle-options-option-details flex flex-wrap items-center gap-1 sm:gap-2 text-xs">
                        <div class="classic-bundle-options-unit-badge py-0.5 px-2 rounded-full inline-block">
                          <span>{{ item.items === 1 ? '' : item.items }}</span>
                          <span>{{ getTranslation("quantityOptions.itemUnit.singular") }}</span>
                        </div>
                        <span class="hidden sm:inline text-gray-400">•</span>
                        <div class="classic-bundle-options-price-info flex items-center gap-1 text-xs">
                          <span>{{ item.price_per_item }}</span>
                          <span>{{ getTranslation("productFunnel.currency") }}</span>
                          <span>{{ getTranslation("quantityOptions.pricePerItem") }}</span>
                        </div>
                      </div>
                    </div>

                    <!-- Price Section -->
                    <div class="flex flex-col items-start sm:items-end justify-center">
                      <div
                        class="classic-bundle-options-final-price text-lg sm:text-xl font-bold leading-tight"
                        [ngClass]="{
                          'classic-bundle-options-price-discount': item.discount > 0,
                          'classic-bundle-options-price-regular': item.discount === 0
                        }"
                      >
                        {{ item.final_total.toLocaleString() }}
                        {{ getTranslation("productFunnel.currency") }}
                      </div>
                      
                      <div *ngIf="item.discount > 0" class="flex flex-col items-start sm:items-end mt-1">
                        <div class="classic-bundle-options-original-price text-xs line-through text-gray-500">
                          {{ item.original_total.toLocaleString() }}
                          {{ getTranslation("productFunnel.currency") }}
                        </div>
                        <div class="classic-bundle-options-discount-badge inline-flex items-center text-xs font-medium py-0.5 px-1.5 rounded-full mt-0.5">
                          <svg class="classic-bundle-options-discount-icon w-2.5 h-2.5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                          </svg>
                          <span class="ml-1">
                            {{ formatDiscount(item.discount, item.discount_percent) }}
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </label>
              
              <!-- Custom Options Integration - Only show for selected bundle -->
              <div *ngIf="selectedBundleIndex[1] === i && showCustomOptions[1]" class="mt-4">
                <app-custom-options [numberOfItems]="item.items"></app-custom-options>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Variation 2: Horizontal Layout -->
  <div class="max-w-6xl w-full">
    <div class="w-1/2">
      <h2 class="classic-middle-title">النموذج الثاني - التخطيط الأفقي</h2>
      <div id="classic-bundle-options">
        <h3 class="classic-bundle-options-title text-2xl py-3">
          {{ getTranslation("quantityOptions.chooseQuantity") }}
        </h3>

        <div class="space-y-3">
          <div *ngFor="let item of purchaseOptions; let i = index">
            <div class="classic-bundle-options-group border border-primary rounded-2xl p-1.5 sm:p-2">
              <label
                class="classic-bundle-options-label group relative overflow-hidden cursor-pointer block rounded-lg"
                [for]="'bundle-option-2-' + (i + 1)"
                (click)="onBundleSelect(2, i)"
              >
                <input
                  type="radio"
                  [id]="'bundle-option-2-' + (i + 1)"
                  name="bundleOptions2"
                  class="hidden"
                  [checked]="i === selectedBundleIndex[2]"
                />
                <div class="classic-bundle-options-content p-1.5 sm:p-2">
                  <div class="classic-bundle-options-header grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3">
                    <!-- Title and Details -->
                    <div class="sm:col-span-2 space-y-1">
                      <h3 class="classic-bundle-options-option-title font-bold text-xl leading-tight">
                        {{ item.title }}
                      </h3>
                      <div class="classic-bundle-options-option-details flex flex-wrap items-center gap-1 sm:gap-2 text-xs">
                        <div class="classic-bundle-options-unit-badge py-0.5 px-2 rounded-full inline-block">
                          <span>{{ item.items === 1 ? '' : item.items }}</span>
                          <span>{{ getTranslation("quantityOptions.itemUnit.singular") }}</span>
                        </div>
                        <span class="hidden sm:inline text-gray-400">•</span>
                        <div class="classic-bundle-options-price-info flex items-center gap-1 text-xs">
                          <span>{{ item.price_per_item }}</span>
                          <span>{{ getTranslation("productFunnel.currency") }}</span>
                          <span>{{ getTranslation("quantityOptions.pricePerItem") }}</span>
                        </div>
                      </div>
                    </div>

                    <!-- Price Section -->
                    <div class="flex flex-col items-start sm:items-end justify-center">
                      <div
                        class="classic-bundle-options-final-price text-lg sm:text-xl font-bold leading-tight"
                        [ngClass]="{
                          'classic-bundle-options-price-discount': item.discount > 0,
                          'classic-bundle-options-price-regular': item.discount === 0
                        }"
                      >
                        {{ item.final_total.toLocaleString() }}
                        {{ getTranslation("productFunnel.currency") }}
                      </div>
                      
                      <div *ngIf="item.discount > 0" class="flex flex-col items-start sm:items-end mt-1">
                        <div class="classic-bundle-options-original-price text-xs line-through text-gray-500">
                          {{ item.original_total.toLocaleString() }}
                          {{ getTranslation("productFunnel.currency") }}
                        </div>
                        <div class="classic-bundle-options-discount-badge inline-flex items-center text-xs font-medium py-0.5 px-1.5 rounded-full mt-0.5">
                          <svg class="classic-bundle-options-discount-icon w-2.5 h-2.5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                          </svg>
                          <span class="ml-1">
                            {{ formatDiscount(item.discount, item.discount_percent) }}
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </label>
              
              <!-- Custom Options Integration - Variation 2 -->
              <div *ngIf="selectedBundleIndex[2] === i && showCustomOptions[2]" class="mt-4">
                <app-custom-options-2 [numberOfItems]="item.items"></app-custom-options-2>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


</section>